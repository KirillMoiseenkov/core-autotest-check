{\rtf1\ansi\ansicpg1252\cocoartf2821
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 HelveticaNeue;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab560
\pard\pardeftab560\slleading20\partightenfactor0

\f0\fs26 \cf0 @startuml\
\
' \uc0\u1041 \u1072 \u1079 \u1086 \u1074 \u1099 \u1081  \u1080 \u1085 \u1090 \u1077 \u1088 \u1092 \u1077 \u1081 \u1089  \u1076 \u1083 \u1103  UI-\u1090 \u1077 \u1089 \u1090 \u1080 \u1088 \u1086 \u1074 \u1072 \u1085 \u1080 \u1103 \
interface IUiTestExecutor \{\
    +openPage(String url) : void\
    +openPage(Map<String, Object> config) : void\
    +openPage(ExecutableEntity config) : void\
    \
    +findElement(String selector) : IUiElement\
    +findElement(Map<String, Object> selector) : IUiElement\
    +findElements(String selector) : List<IUiElement>\
    +findElements(Map<String, Object> selector) : List<IUiElement>\
    \
    +executeAction(String selector, String action, Object value) : void\
    +executeAction(Map<String, Object> selector, String action, Map<String, Object> value) : void\
    +executeAction(ExecutableEntity selector, String action, ExecutableEntity value) : void\
    \
    +getPageSource() : String\
    +getPageSourceAsMap() : Map<String, Object>\
    +getPageSourceAsEntity() : ExecutableEntity\
    \
    +takeScreenshot(String path) : void\
    +takeScreenshotAsBytes() : byte[]\
    \
    +waitForCondition(String condition, long timeoutMs) : boolean\
    +waitForCondition(Map<String, Object> condition, long timeoutMs) : boolean\
    \
    +close() : void\
    +configure(Map<String, Object> config) : void\
    +configure(ExecutableEntity config) : void\
\}\
\
' \uc0\u1048 \u1085 \u1090 \u1077 \u1088 \u1092 \u1077 \u1081 \u1089  \u1076 \u1083 \u1103  \u1101 \u1083 \u1077 \u1084 \u1077 \u1085 \u1090 \u1086 \u1074  UI\
interface IUiElement \{\
    +click() : void\
    +setValue(Object value) : void\
    +setValue(Map<String, Object> value) : void\
    +setValue(ExecutableEntity value) : void\
    \
    +getText() : String\
    +getAttribute(String attribute) : String\
    +getAttributes() : Map<String, String>\
    \
    +isVisible() : boolean\
    +isEnabled() : boolean\
    \
    +toMap() : Map<String, Object>\
    +toEntity() : ExecutableEntity\
\}\
\
' \uc0\u1056 \u1072 \u1089 \u1096 \u1080 \u1088 \u1077 \u1085 \u1085 \u1099 \u1081  \u1080 \u1085 \u1090 \u1077 \u1088 \u1092 \u1077 \u1081 \u1089  \u1076 \u1083 \u1103  \u1076 \u1086 \u1087 \u1086 \u1083 \u1085 \u1080 \u1090 \u1077 \u1083 \u1100 \u1085 \u1099 \u1093  \u1074 \u1086 \u1079 \u1084 \u1086 \u1078 \u1085 \u1086 \u1089 \u1090 \u1077 \u1081 \
interface IAdvancedUiTestExecutor \{\
    +executeScript(String script) : Object\
    +executeScript(String script, Map<String, Object> args) : Object\
    \
    +switchToFrame(String frameSelector) : void\
    +switchToDefault() : void\
    \
    +handleAlert(String action) : void\
    +getAlertText() : String\
    \
    +setBrowserSize(int width, int height) : void\
    +emulateDevice(String deviceName) : void\
    \
    +recordVideo(String path) : void\
    +stopRecording() : void\
\}\
\
' \uc0\u1056 \u1077 \u1072 \u1083 \u1080 \u1079 \u1072 \u1094 \u1080 \u1103  UiTestExecutor (\u1087 \u1088 \u1080 \u1084 \u1077 \u1088 )\
class SelenideTestExecutorImpl \{\
    -driver : WebDriver\
    +openPage(String url) : void\
    +openPage(Map<String, Object> config) : void\
    +openPage(ExecutableEntity config) : void\
    +findElement(String selector) : IUiElement\
    +findElement(Map<String, Object> selector) : IUiElement\
    +findElements(String selector) : List<IUiElement>\
    +findElements(Map<String, Object> selector) : List<IUiElement>\
    +executeAction(String selector, String action, Object value) : void\
    +executeAction(Map<String, Object> selector, String action, Map<String, Object> value) : void\
    +executeAction(ExecutableEntity selector, String action, ExecutableEntity value) : void\
    +getPageSource() : String\
    +getPageSourceAsMap() : Map<String, Object>\
    +getPageSourceAsEntity() : ExecutableEntity\
    +takeScreenshot(String path) : void\
    +takeScreenshotAsBytes() : byte[]\
    +waitForCondition(String condition, long timeoutMs) : boolean\
    +waitForCondition(Map<String, Object> condition, long timeoutMs) : boolean\
    +close() : void\
    +configure(Map<String, Object> config) : void\
    +configure(ExecutableEntity config) : void\
\}\
\
class PlaywrightTestExecutorImpl \{\
    -playwright : Playwright\
    -browser : Browser\
    -page : Page\
    +openPage(String url) : void\
    +openPage(Map<String, Object> config) : void\
    +openPage(ExecutableEntity config) : void\
    +findElement(String selector) : IUiElement\
    +findElement(Map<String, Object> selector) : IUiElement\
    +findElements(String selector) : List<IUiElement>\
    +findElements(Map<String, Object> selector) : List<IUiElement>\
    +executeAction(String selector, String action, Object value) : void\
    +executeAction(Map<String, Object> selector, String action, Map<String, Object> value) : void\
    +executeAction(ExecutableEntity selector, String action, ExecutableEntity value) : void\
    +getPageSource() : String\
    +getPageSourceAsMap() : Map<String, Object>\
    +getPageSourceAsEntity() : ExecutableEntity\
    +takeScreenshot(String path) : void\
    +takeScreenshotAsBytes() : byte[]\
    +waitForCondition(String condition, long timeoutMs) : boolean\
    +waitForCondition(Map<String, Object> condition, long timeoutMs) : boolean\
    +close() : void\
    +configure(Map<String, Object> config) : void\
    +configure(ExecutableEntity config) : void\
\}\
\
' \uc0\u1056 \u1077 \u1072 \u1083 \u1080 \u1079 \u1072 \u1094 \u1080 \u1103  AdvancedUiTestExecutor (\u1087 \u1088 \u1080 \u1084 \u1077 \u1088 )\
class AdvancedSelenideTestExecutorImpl \{\
    -driver : WebDriver\
    +executeScript(String script) : Object\
    +executeScript(String script, Map<String, Object> args) : Object\
    +switchToFrame(String frameSelector) : void\
    +switchToDefault() : void\
    +handleAlert(String action) : void\
    +getAlertText() : String\
    +setBrowserSize(int width, int height) : void\
    +emulateDevice(String deviceName) : void\
    +recordVideo(String path) : void\
    +stopRecording() : void\
\}\
\
' \uc0\u1050 \u1072 \u1089 \u1090 \u1086 \u1084 \u1085 \u1072 \u1103  \u1086 \u1073 \u1077 \u1088 \u1090 \u1082 \u1072  \u1080 \u1079  \u1074 \u1072 \u1096 \u1077 \u1081  \u1072 \u1088 \u1093 \u1080 \u1090 \u1077 \u1082 \u1090 \u1091 \u1088 \u1099 \
class ExecutableEntity \{\
    -data : Map<String, Object>\
    -metadata : Map<String, String>\
    +getData() : Map<String, Object>\
    +getMetadata() : Map<String, String>\
    +toHashMap() : Map<String, Object>\
    +fromHashMap(Map<String, Object>) : ExecutableEntity\
\}\
\
' \uc0\u1057 \u1074 \u1103 \u1079 \u1100  \u1089  \u1089 \u1091 \u1097 \u1077 \u1089 \u1090 \u1074 \u1091 \u1102 \u1097 \u1077 \u1081  \u1072 \u1088 \u1093 \u1080 \u1090 \u1077 \u1082 \u1090 \u1091 \u1088 \u1086 \u1081 \
interface TestExecutor \{\
    ' \uc0\u1059 \u1087 \u1088 \u1086 \u1097 \u1077 \u1085 \u1085 \u1086 \u1077  \u1087 \u1088 \u1077 \u1076 \u1089 \u1090 \u1072 \u1074 \u1083 \u1077 \u1085 \u1080 \u1077 \
    +execute(Map<String, Object> config) : Map<String, Object>\
\}\
\
interface IClientFactory \{\
    ' \uc0\u1059 \u1087 \u1088 \u1086 \u1097 \u1077 \u1085 \u1085 \u1086 \u1077  \u1087 \u1088 \u1077 \u1076 \u1089 \u1090 \u1072 \u1074 \u1083 \u1077 \u1085 \u1080 \u1077 \
    +createClient(String configPath, String format) : TestExecutor\
\}\
\
interface ITestDataGenerator \{\
    ' \uc0\u1059 \u1087 \u1088 \u1086 \u1097 \u1077 \u1085 \u1085 \u1086 \u1077  \u1087 \u1088 \u1077 \u1076 \u1089 \u1090 \u1072 \u1074 \u1083 \u1077 \u1085 \u1080 \u1077 \
    +generateFromClass(Class<?> clazz) : Object\
\}\
\
' \uc0\u1053 \u1072 \u1089 \u1083 \u1077 \u1076 \u1086 \u1074 \u1072 \u1085 \u1080 \u1077  \u1080  \u1079 \u1072 \u1074 \u1080 \u1089 \u1080 \u1084 \u1086 \u1089 \u1090 \u1080 \
IUiTestExecutor <|.. SelenideTestExecutorImpl\
IUiTestExecutor <|.. PlaywrightTestExecutorImpl\
IAdvancedUiTestExecutor <|.. AdvancedSelenideTestExecutorImpl\
IUiTestExecutor <|.. IAdvancedUiTestExecutor\
\
SelenideTestExecutorImpl --> IUiElement : returns\
PlaywrightTestExecutorImpl --> IUiElement : returns\
AdvancedSelenideTestExecutorImpl --> IUiElement : returns\
\
IUiTestExecutor --> ExecutableEntity : uses\
IClientFactory --> IUiTestExecutor : creates\
ITestDataGenerator --> IUiTestExecutor : provides data\
\
IUiTestExecutor ..|> TestExecutor\
\
@enduml\
\pard\pardeftab560\slleading20\pardirnatural\partightenfactor0
\cf0 \
\
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 IAdvancedUiTestExecutor advancedUi = new AdvancedSelenideTestExecutorImpl();\
advancedUi.emulateDevice("iPhone 11");\
advancedUi.executeScript("alert('Test');");\
advancedUi.handleAlert("accept");\
\pard\pardeftab560\slleading20\pardirnatural\partightenfactor0
\cf0 \
\
\
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 @Test\
void testSimpleFormSubmission() \{\
    IClientFactory factory = new ClientFactoryImpl();\
    IUiTestExecutor ui = factory.createClient(\
        Map.of("browser", "chrome"), \
        IUiTestExecutor.class\
    );\
    \
    ui.openPage("http://example.com/login");\
    ui.findElement("#username").setValue("user123");\
    ui.findElement("#password").setValue("pass123");\
    ui.findElement("#submit").click();\
    \
    assertTrue(ui.waitForCondition("#welcome", 5000));\
    ui.takeScreenshot("login-success.png");\
    ui.close();\
\}\
\pard\pardeftab560\slleading20\pardirnatural\partightenfactor0
\cf0 \
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 @Test\
void testFormWithGeneratedData() \{\
    IClientFactory factory = new ClientFactoryImpl();\
    IUiTestExecutor ui = factory.createClient(\
        Map.of("browser", "firefox"), \
        IUiTestExecutor.class\
    );\
    ITestDataGenerator dataGenerator = new TestDataGeneratorImpl();\
    \
    UserDTO user = dataGenerator.generateFromClass(UserDTO.class);\
    ui.openPage("http://example.com/register");\
    ui.executeAction("#name", "type", user.getName());\
    ui.executeAction("#email", "type", user.getEmail());\
    ui.findElement("#submit").click();\
    \
    assertEquals("Registration successful", ui.findElement("#message").getText());\
    ui.close();\
\}\
\pard\pardeftab560\slleading20\pardirnatural\partightenfactor0
\cf0 \
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 @Test\
void testFrameAndVideo() \{\
    IClientFactory factory = new ClientFactoryImpl();\
    IAdvancedUiTestExecutor ui = factory.createClient(\
        Map.of("browser", "chromium"), \
        IAdvancedUiTestExecutor.class\
    );\
    \
    ui.recordVideo("test-video.mp4");\
    ui.openPage("http://example.com/frames");\
    ui.switchToFrame("#payment-frame");\
    ui.findElement("#card-number").setValue("4111-1111-1111-1111");\
    ui.switchToDefault();\
    \
    ui.stopRecording();\
    ui.close();\
\}\
}